<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <!--
    -->

    <changeSet id="DEMO-DATA-NK_PLATFORM$INSERT-01" author="bean" context="demo-data">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(1) FROM NK_PLATFORM_MENU WHERE MENU_ID IN ('data-report','data-userrp','report-demo')
            </sqlCheck>
        </preConditions>
        <sql>
            INSERT INTO NK_PLATFORM_MENU ( MENU_ID, TITLE, SUB_TITLE, PARENT_ID, ORDER_BY, URL, ICON, MENU_OPTIONS, AUTHORITY_OPTIONS, UPDATED_TIME) values ( 'data-report', '数据报表', null, 'bigdata', '50002', '/apps/data/v/data-report', '', '{\n    \"index\": \"demo-index\",\n    \"preViewVisible\": true,\n    \"width\": \"60%\",\n    \"defaultRows\":15,\n    \"postCondition\": {\n        \"terms\": {\n            \"customType\": [\n                \"ES:TEST\"\n            ]\n        }\n    },\n    \"searchItemsDefault\": [\n        {\n            \"name\": \"搜索\",\n            \"field\": [\'keyword\',\'docName\',\'partnerName\'],\n            \"component\": \"nk-search-options-text\",\n            \"placeholder\": \"请输入关键字\"\n        },\n        {\n            \"name\":\"户籍省份\",\n            \"field\":\"dynamics.province_keyword\",\n            \"component\":\"nk-search-options-single\",\n            \"min\":240,\n            \"agg\":true\n        },\n        {\n            \"name\":\"入职时间\",\n            \"field\":\"dynamics.date1_date\",\n            \"component\":\"nk-search-options-date-range\",\n            \"placeholder\":\"请选择\"\n        },\n        {\n            \"name\":\"资产量\",\n            \"field\":\"dynamics.num5_double\",\n            \"component\":\"nk-search-options-number-range\",\n            \"placeholderFrom\":\"从\",\n            \"placeholderTo\":\"到\",\n            \"from\": 0,\n            \"to\": 1000000000\n        }\n    ],\n    \"searchItemsMoreDef\": [\n        {\n            \"name\":\"爱好\",\n            \"field\":\"dynamics.likes_keyword\",\n            \"component\":\"nk-search-options-multiple\",\n            \"min\":240,\n            \"agg\":true\n        },\n        {\n            \"name\":\"城市\",\n            \"field\":\"dynamics.city_keyword\",\n            \"component\":\"nk-search-options-single\",\n            \"min\":240,\n            \"agg\":true,\n            condition:function(params){\n                return params[\"dynamics.province_keyword\"];\n            }\n        }\n    ],\n    \"columns\": [\n        {\n            \"title\": \"编号\",\n            \"field\": \"docNumber\",\n            \"width\": \"120\",\n            \"type\": \"html\",\n            \"formatter\": [\n                \"docLink\",\n                \"docId\"\n            ]\n        },\n        {\n            \"title\": \"名称\",\n            \"field\": \"docName\",\n            \"width\": \"140\",\n            \"type\": \"html\",\n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"docName.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.english_name\",\n            \"title\": \"英文名\",\n            \"width\": \"120\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.english_name.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.phone_serial\",\n            \"title\": \"手机\",\n            \"width\": \"120\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.phone_serial.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.phone2_serial\",\n            \"title\": \"座机\",\n            \"width\": \"130\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.phone2_serial.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.email_url\",\n            \"title\": \"邮箱\",\n            \"width\": \"140\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.email_url.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.company_name\",\n            \"title\": \"任职公司\",\n            \"width\": \"140\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.company_name.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.department_name\",\n            \"title\": \"任职部门\",\n            \"width\": \"100\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.department_name.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.date1_date\",\n            \"title\": \"入职日期\",\n            \"width\": \"100\",\n            \"formatter\": [\n                \"nkDatetime\",\n                \"YYYY/MM/DD\"\n            ], \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.province_keyword\",\n            \"title\": \"户籍省份\",\n            \"width\": \"80\", \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.city_keyword\",\n            \"title\": \"户籍城市\",\n            \"width\": \"100\", \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.idCard_serial\",\n            \"title\": \"身份证\",\n            \"width\": \"140\"\n        },\n        {\n            \"field\": \"dynamics.plate_serial\",\n            \"title\": \"车牌号\",\n            \"width\": \"80\"\n        },\n        {\n            \"field\": \"dynamics.creditCard_serial\",\n            \"title\": \"信用卡\",\n            \"width\": \"120\"\n        },\n        {\n            \"field\": \"dynamics.num5_double\",\n            \"title\": \"资产量\",\n            \"width\": \"120\",\n            \"align\": \"right\",\n            \"formatter\": [\n                \"nkCurrency\"\n            ], \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.num4_float\",\n            \"title\": \"信用度\",\n            \"width\": \"80\",\n            \"align\": \"right\",\n            \"formatter\": [\n                \"nkPercent\"\n            ], \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.likes_keyword\",\n            \"title\": \"爱好\",\n            \"width\": \"120\"\n        },\n        {\n            \"field\": \"dynamics.sentence_text\",\n            \"title\": \"座右铭\",\n            \"width\": \"140\"\n        },\n        {\n            \"field\": \"dynamics.domain_url\",\n            \"title\": \"个人主页\",\n            \"width\": \"120\"\n        },\n        {\n            \"field\": \"tags\",\n            \"title\": \"TAGS\",\n            \"width\": \"120\"\n        }\n    ]\n}', null, '1636562538');
            INSERT INTO NK_PLATFORM_MENU ( MENU_ID, TITLE, SUB_TITLE, PARENT_ID, ORDER_BY, URL, ICON, MENU_OPTIONS, AUTHORITY_OPTIONS, UPDATED_TIME) values ( 'data-userrp', '业务报表', null, 'bigdata', '50003', '/apps/data/s/data-userrp', null, '{\n    \"width\": \"60%\",\n\"border\":\"full\",\n    \"defaultRows\": 15,\n   \"sortConfig\":{\'trigger\': \'cell\'},\n    \"postSql\": [\'SELECT \"dynamics.department_name.original\" AS \"____dynamics.department_name.original\", COUNT(classify) AS \"____classify\", ROUND(MAX(\"dynamics.lat_double\"),2) AS \"____dynamics.lat_double\", AVG(\"dynamics.num1_int\") AS \"____dynamics.num1_int\", FIRST(\"dynamics.phone_serial.original\") AS \"____dynamics.phone_serial.original\" FROM \"demo-index\"  WHERE \"dynamics.company_name.original\" IS NOT NULL   GROUP BY \"____dynamics.department_name.original\"    \'],\n    \"searchItemsDefault\": [\n        {\n            \"name\": \"搜索\",\n            \"field\": [\'keyword\',\'docName\',\'partnerName\'\n            ],\n            \"component\": \"nk-search-options-text\",\n            \"placeholder\": \"请输入关键字\"\n        },\n        {\n            \"name\": \"户籍省份\",\n            \"field\": \"dynamics.province_keyword\",\n            \"component\": \"nk-search-options-single\",\n            \"options\": {\n                \"buckets\": [\n                    {\n                        \"label\": \"上海市\",\n                        \"value\": \"上海市\"\n                    }\n                ]\n            },\n            \"min\": 240,\n            \"agg\": true\n        },\n        {\n            \"name\": \"入职时间\",\n            \"field\": \"dynamics.date1_date\",\n            \"component\": \"nk-search-options-date-range\",\n            \"placeholder\": \"请选择\"\n        }\n    ],\n    \"searchItemsMoreDef\": [\n        {\n            \"name\": \"资产量\",\n            \"field\": \"dynamics.num5_double\",\n            \"component\": \"nk-search-options-number-range\",\n            \"placeholderFrom\": \"从\",\n            \"placeholderTo\": \"到\",\n            \"from\": 0,\n            \"to\": 1000000000\n        }\n        \n    ],\n    \"columns\": [\n        {\n            \"title\": \"部门\",\n            \"field\": \"____dynamics.department_name.original\",\n            \"type\": \"html\",\n                            \"sortable\": true,\n\"slots\":{\n\"default\":\"drill\"\n},\n            \"drills\": [\"dynamics.college_name.original\",\"dynamics.english_name.original\"]\n        },\n        {\n            \"title\": \"统计\",\n            \"children\": [\n                {\n                    \"title\": \"单据数量\",\n                    \"field\": \"____classify\",\n                    \"width\": \"20%\",\n                    \"type\": \"html\",\n                     \"align\": \"right\",\n                    \"sortable\": true\n                },\n                {\n                    \"title\": \"数字\",\n                    \"children\": [\n                        {\n                            \"title\": \"最大值\",\n                            \"field\": \"____dynamics.lat_double\",\n                            \"width\": \"20%\",\n                            \"type\": \"html\",\n                            \"align\": \"right\",\n                            \"sortable\": true\n                        },\n                        {\n                            \"title\": \"平均值\",\n                            \"field\": \"____dynamics.num1_int\",\n                            \"width\": \"20%\",\n                            \"type\": \"html\",\n                            \"align\": \"right\",\n                            \"sortable\": true\n                        }\n                    ]\n                },\n                {\n                    \"title\": \"First电话\",\n                    \"field\": \"____dynamics.phone_serial.original\",\n                    \"width\": \"20%\",\n                    \"type\": \"html\",\n                    \"sortable\": true\n                }\n            ]\n        }\n    ]\n}', null, '1636562538');
            INSERT INTO NK_PLATFORM_MENU ( MENU_ID, TITLE, SUB_TITLE, PARENT_ID, ORDER_BY, URL, ICON, MENU_OPTIONS, AUTHORITY_OPTIONS, UPDATED_TIME) values ( 'report-demo', '自定义查询', null, null, '40000', '/apps/q/report-demo', 'file-search', '{\n    \"index\": \"demo-index\",\n    \"preViewVisible\": true,\n    \"width\": \"60%\",\n    \"defaultRows\":15,\n    \"postCondition\": {\n        \"terms\": {\n            \"customType\": [\n                \"ES:TEST\"\n            ]\n        }\n    },\n    \"searchItemsDefault\": [\n        {\n            \"name\": \"搜索\",\n            \"field\": [\'keyword\',\'docName\',\'partnerName\'],\n            \"component\": \"nk-search-options-text\",\n            \"placeholder\": \"请输入关键字\"\n        },\n        {\n            \"name\":\"户籍省份\",\n            \"field\":\"dynamics.province_keyword\",\n            \"component\":\"nk-search-options-single\",\n            \"min\":240,\n            \"agg\":true\n        },\n        {\n            \"name\":\"入职时间\",\n            \"field\":\"dynamics.date1_date\",\n            \"component\":\"nk-search-options-date-range\",\n            \"placeholder\":\"请选择\"\n        },\n        {\n            \"name\":\"资产量\",\n            \"field\":\"dynamics.num5_double\",\n            \"component\":\"nk-search-options-number-range\",\n            \"placeholderFrom\":\"从\",\n            \"placeholderTo\":\"到\",\n            \"from\": 0,\n            \"to\": 1000000000\n        }\n    ],\n    \"searchItemsMoreDef\": [\n        {\n            \"name\":\"爱好\",\n            \"field\":\"dynamics.likes_keyword\",\n            \"component\":\"nk-search-options-multiple\",\n            \"min\":240,\n            \"agg\":true\n        },\n        {\n            \"name\":\"城市\",\n            \"field\":\"dynamics.city_keyword\",\n            \"component\":\"nk-search-options-single\",\n            \"min\":240,\n            \"agg\":true,\n            condition:function(params){\n                return params[\"dynamics.province_keyword\"];\n            }\n        }\n    ],\n    \"columns\": [\n        {\n            \"title\": \"编号\",\n            \"field\": \"docNumber\",\n            \"width\": \"120\",\n            \"type\": \"html\",\n            \"formatter\": [\n                \"docLink\",\n                \"docId\"\n            ]\n        },\n        {\n            \"title\": \"名称\",\n            \"field\": \"docName\",\n            \"width\": \"140\",\n            \"type\": \"html\",\n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"docName.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.english_name\",\n            \"title\": \"英文名\",\n            \"width\": \"120\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.english_name.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.phone_serial\",\n            \"title\": \"手机\",\n            \"width\": \"120\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.phone_serial.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.phone2_serial\",\n            \"title\": \"座机\",\n            \"width\": \"130\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.phone2_serial.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.email_url\",\n            \"title\": \"邮箱\",\n            \"width\": \"140\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.email_url.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.company_name\",\n            \"title\": \"任职公司\",\n            \"width\": \"140\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.company_name.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.department_name\",\n            \"title\": \"任职部门\",\n            \"width\": \"100\", \n            \"sortable\":true, \n            \"params\":{ \n                \"orderField\": \"dynamics.department_name.original\" \n            }\n        },\n        {\n            \"field\": \"dynamics.date1_date\",\n            \"title\": \"入职日期\",\n            \"width\": \"100\",\n            \"formatter\": [\n                \"nkDatetime\",\n                \"YYYY/MM/DD\"\n            ], \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.province_keyword\",\n            \"title\": \"户籍省份\",\n            \"width\": \"80\", \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.city_keyword\",\n            \"title\": \"户籍城市\",\n            \"width\": \"100\", \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.idCard_serial\",\n            \"title\": \"身份证\",\n            \"width\": \"140\"\n        },\n        {\n            \"field\": \"dynamics.plate_serial\",\n            \"title\": \"车牌号\",\n            \"width\": \"80\"\n        },\n        {\n            \"field\": \"dynamics.creditCard_serial\",\n            \"title\": \"信用卡\",\n            \"width\": \"120\"\n        },\n        {\n            \"field\": \"dynamics.num5_double\",\n            \"title\": \"资产量\",\n            \"width\": \"120\",\n            \"align\": \"right\",\n            \"formatter\": [\n                \"nkCurrency\"\n            ], \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.num4_float\",\n            \"title\": \"信用度\",\n            \"width\": \"80\",\n            \"align\": \"right\",\n            \"formatter\": [\n                \"nkPercent\"\n            ], \n            \"sortable\":true\n        },\n        {\n            \"field\": \"dynamics.likes_keyword\",\n            \"title\": \"爱好\",\n            \"width\": \"120\"\n        },\n        {\n            \"field\": \"dynamics.sentence_text\",\n            \"title\": \"座右铭\",\n            \"width\": \"140\"\n        },\n        {\n            \"field\": \"dynamics.domain_url\",\n            \"title\": \"个人主页\",\n            \"width\": \"120\"\n        },\n        {\n            \"field\": \"tags\",\n            \"title\": \"TAGS\",\n            \"width\": \"120\"\n        }\n    ]\n}', null, '1636562538');
        </sql>
    </changeSet>

    <changeSet id="DEMO-DATA-NK_REGISITRY$INSERT-01" author="bean" context="demo-data">
        <preConditions>
            <sqlCheck expectedResult="0">

            </sqlCheck>
        </preConditions>
        <sql>
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@DATASET', 'demo-index', null, '0', '演示索引', 'NkRegistryDataSetNote', '{\"desc\":\"演示索引\",\"type\":\"ElasticSearch\",\"service\":\"ElasticSearchService\",\"fields\":{\"classify\":\"单据分类\",\"docType\":\"单据类型\",\"docId\":\"单据ID\",\"docName\":\"单据名称\",\"docName.original\":\"单据名称(O)\",\"docNumber\":\"单据编号\",\"docState\":\"单据状态\",\"updatedTime\":\"修改时间戳\",\"createdTime\":\"创建时间戳\"}}', null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@DATASET', 'doc-ext', null, '0', '单据扩展索引', 'NkRegistryDataSetNote', '{\"desc\":\"单据扩展索引\",\"type\":\"ElasticSearch\",\"service\":\"ElasticSearchService\",\"fields\":{\"classify\":\"单据分类\",\"docType\":\"单据类型\",\"docId\":\"单据ID\",\"docName\":\"单据名称\",\"docName.original\":\"单据名称(O)\",\"docNumber\":\"单据编号\",\"docState\":\"单据状态\",\"updatedTime\":\"修改时间戳\",\"createdTime\":\"创建时间戳\"}}', null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@DATASET', 'document', '1', '0', '单据主索引', 'NkRegistryDataSetNote', '{\"desc\":\"单据主索引\",\"type\":\"ElasticSearch\",\"service\":\"ElasticSearchService\",\"fields\":{\"classify\":\"单据分类\",\"docType\":\"单据类型\",\"docId\":\"单据ID\",\"docName\":\"单据名称\",\"docName.original\":\"单据名称(O)\",\"docNumber\":\"单据编号\",\"docState\":\"单据状态\",\"updatedTime\":\"修改时间戳\",\"createdTime\":\"创建时间戳\"}}', null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@DATASET', 'hits_v1', null, '0', '演示Clickhouse库', 'NkRegistryDataSetNote', '{\"desc\":\"演示Clickhouse库\",\"type\":\"ClickHouse\",\"service\":\"ClickHouseService\",\"fields\":{}}', null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@DICT', 'tp', null, null, 'tp', null, null, null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@DICT', 'tp.base.marriage', null, '0', '婚姻', 'NkRegistrySelectOptions', '[]', null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@DICT', 'tp.base.sex', '1', '0', '性别', 'NkRegistrySelectOptions', '[]', null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@METER', 'key1', '1', '0', '按公司汇总的面积图', 'NkMeterAntVArea', '{\"title\":\"按公司汇总的面积图\",\"xField\":[\"dynamics.company_name.original_GROUP\"],\"yField\":[\"docName.original_COUNT\"],\"sql\":\"SELECT dynamics.company_name.original AS \\\"dynamics.company_name.original_GROUP\\\",\\n       COUNT(docName.original) AS \\\"docName.original_COUNT\\\"\\n  FROM \\\"demo-index\\\"\\n GROUP BY \\\"dynamics.company_name.original_GROUP\\\"\\nHAVING \\\"docName.original_COUNT\\\" >= 1\"}', null, null);
            insert into `ts5_bb_rd`.`nk_platform_registry` ( `REG_TYPE`, `REG_KEY`, `VERSION`, `ORDER_BY`, `TITLE`, `DATA_TYPE`, `CONTENT`, `UPDATED_TIME`, `UPDATED_ACCOUNT`) values ( '@PAGE', 'key1', '1', '0', '2', 'NkRegistryCustomQuery', '{}', null, null);
        </sql>
    </changeSet>

</databaseChangeLog>